// Generated by CoffeeScript 1.6.3
var define;

if (typeof define !== 'function') {
  define = require('amdefine')(module);
}

define(function() {
  var Existance;
  return Existance = (function() {
    function Existance(_arg) {
      var tools;
      this.THREE = _arg.THREE, tools = _arg.tools;
      this.name = 'existance';
      this.AsJustInTime = tools.AsJustInTime;
    }

    Existance.prototype.registerActor = function(token, actor) {
      actor.exists = true;
      actor.mass || (actor.mass = 1.0);
      actor.position || (actor.position = new this.THREE.Vector3(0, 0, 0));
      if (!((token.pair != null) && (token.pair.range_vector != null))) {
        return this.AsJustInTime.call(token, 'range_vector', function(token, a, b, previous) {
          if (previous == null) {
            previous = a.position.clone();
          }
          previous.copy(a.position).sub(b.position);
          return previous;
        });
      }
    };

    return Existance;

  })();
});
