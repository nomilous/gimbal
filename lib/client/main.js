// Generated by CoffeeScript 1.6.3
require(['three', '/js/tools/tools.js', '/js/actors/actors.js', '/js/realm/engines/classical/classical_mechanics.js', '/js/realm/engines/classical/behaviours/behaviours.js', 'realm/ui/user_interface', 'realm/visualizer/web_g_l_visualizer', '/js/realm/realm.js'], function(three, tools, actors, ClassicalMechanics, behaviours, UserInterface, WebGLVisualizer, Realm) {
  var BoundarySphere, Collision, Existance, Gravitation, Motion, SphericalMass, exist, globals, realm, renderer, simulator, ui;
  globals = {
    document: document,
    window: window,
    THREE: THREE,
    tools: tools
  };
  ui = new UserInterface(globals);
  simulator = new ClassicalMechanics(globals, ui, {
    time: 1,
    paused: false
  });
  Existance = behaviours.Existance, Motion = behaviours.Motion, Gravitation = behaviours.Gravitation, Collision = behaviours.Collision;
  simulator.registerBehaviour(new Existance(globals, ui));
  simulator.registerBehaviour(new Motion(globals, ui));
  simulator.registerBehaviour(new Gravitation(globals, ui));
  simulator.registerBehaviour(new Collision(globals, ui));
  renderer = new WebGLVisualizer(globals, ui, {
    clearColor: 0x444444,
    clearAlpha: 1,
    fov: 70
  });
  realm = new Realm(globals, ui, {
    engine: simulator,
    visualizer: renderer
  });
  BoundarySphere = actors.BoundarySphere, SphericalMass = actors.SphericalMass;
  realm.registerActor(new BoundarySphere(globals, ui, {
    radius: 500,
    segments: 200,
    rings: 200
  }));
  realm.registerActor(new SphericalMass(globals, ui, {
    radius: 50,
    segments: 200,
    rings: 200,
    position: new THREE.Vector3(-200.0, 0.0, -400.0)
  }));
  realm.registerActor(new SphericalMass(globals, ui, {
    radius: 5,
    segments: 200,
    rings: 200,
    position: new THREE.Vector3(200.0, 0.0, -400.0),
    light: {
      color: 0xFFFFFF
    }
  }));
  exist = function() {
    requestAnimationFrame(exist);
    return realm.exist();
  };
  return exist();
});
